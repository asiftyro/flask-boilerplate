


{% extends 'views/admin/layouts/main/index.html' %}
{% from 'macros/table_helpers.html' import render_table %}


{% block title %}
Admin - Posts
{% endblock %}

{% block header %}
  <h1 class="h4">Admin: Posts</h1>
  <div class="btn-toolbar mb-2 mb-md-0">
    <div class="btn-group mr-2">
      <a href="{{url_for('post.create')}}" class="btn btn-sm btn-outline-secondary">Create</a>
    </div>
  </div>  
{% endblock %}


{% block content %}
  {% if posts %}
    {{ 
      render_table(
        posts,
        caption='Posts',
        responsive=true,
        table_classes='table-bordered table-striped table-hover table-sm',
        header_classes='thead-dark',
        show_actions=true,
        actions_title="Action",
        primary_key_title = "#",
        primary_key='id',
        actions = [
          {'route': 'post.index',  'route_variable': 'id', 'name': '', 'title': 'View', 'class':'btn btn-outline-dark btn-sm', 'icon':'file-text'},
          {'route': 'post.update', 'route_variable': 'id', 'name': '', 'title': 'Edit', 'class':'btn btn-outline-dark btn-sm', 'icon':'edit'}
        ],
        actions_pos = 'last',
        titles=[
          ('id',None), 
          ('created', 'Created'),
          ('slug', 'Slug'),
          ('visible', 'Visible'),
          ('post_position', 'Post Position'),
          ('menu_name', 'Menu name'),
          ('menu_position', 'Menu position'),
          ('menu_visibility', 'Menu visibility'),
          ('user_name', 'Author')
        ]
      )
    }}
  {% endif %}
{% endblock %}